(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{551:function(t,a,e){"use strict";e.r(a);var c=e(34),n=Object(c.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"smart-contracts"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#smart-contracts"}},[t._v("#")]),t._v(" Smart Contracts")]),t._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#prepare-solidity-compiler"}},[t._v("Prepare solidity compiler")])]),e("li",[e("a",{attrs:{href:"#compile-smart-contract"}},[t._v("Compile smart contract")])]),e("li",[e("a",{attrs:{href:"#deploy-smart-contract-from-sol-file"}},[t._v("Deploy smart contract from sol file")])]),e("li",[e("a",{attrs:{href:"#deploy-smart-contract-from-bytecode"}},[t._v("Deploy smart contract from bytecode")])]),e("li",[e("a",{attrs:{href:"#deploy-smart-contract-from-bin-file"}},[t._v("Deploy smart contract from bin file")])]),e("li",[e("a",{attrs:{href:"#invoke-smart-contract-by-function"}},[t._v("Invoke smart contract by function")])]),e("li",[e("a",{attrs:{href:"#invoke-smart-contract-by-bytecode"}},[t._v("Invoke smart contract by bytecode")])]),e("li",[e("a",{attrs:{href:"#test-smart-contract-by-bytecode"}},[t._v("Test smart contract by bytecode")])]),e("li",[e("a",{attrs:{href:"#test-smart-contract-by-function"}},[t._v("Test smart contract by function")])]),e("li",[e("a",{attrs:{href:"#share-local-files-with-iotex-ide"}},[t._v("Share local files with IoTeX IDE")])])])]),e("p"),t._v(" "),e("h2",{attrs:{id:"prepare-solidity-compiler"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#prepare-solidity-compiler"}},[t._v("#")]),t._v(" Prepare solidity compiler")]),t._v(" "),e("p",[e("code",[t._v("Usage: ioctl contract prepare")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("➜  ioctl contract prepare\n\n...\nSolidity compiler is ready now.\n")])])]),e("p",[t._v("This process installs "),e("code",[t._v("solc")]),t._v(" to you env. You can also install it by using the following commands.")]),t._v(" "),e("p",[t._v("On Ubuntu, you can use the following command")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("sudo add-apt-repository ppa:ethereum/ethereum\nsudo apt-get update\nsudo apt-get install solc\n")])])]),e("p",[t._v("On macOS, you can use the following command")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("brew update\nbrew upgrade\nbrew tap ethereum/ethereum\nbrew install solidity@5\n")])])]),e("p",[t._v("For more detailed instruction of installing "),e("code",[t._v("solc")]),t._v(", please refer to https://solidity.readthedocs.io/en/v0.5.0/installing-solidity.html.")]),t._v(" "),e("p",[t._v("Please note that "),e("code",[t._v("ioctl")]),t._v(" currently supports "),e("code",[t._v("solc")]),t._v(" "),e("code",[t._v("4.x")]),t._v(" and "),e("code",[t._v("5.x")]),t._v(". Please make sure you install the current version.")]),t._v(" "),e("h2",{attrs:{id:"compile-smart-contract"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#compile-smart-contract"}},[t._v("#")]),t._v(" Compile smart contract")]),t._v(" "),e("p",[e("code",[t._v("Usage: ioctl contract compile CONTRACT_NAME [CODE_FILES...] [--abi-out ABI_PATH] [--bin-out BIN_PATH]")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('➜  ioctl contract compile Multisend\nOutput:\n======= multisend2.sol:Multisend =======\nBinary:\n0x608060405234801561001057600080fd5b5060405160408061096483398101604052805160209091015160008054600160a060020a03191633179055600191909155600255610911806100536000396000f30060806...\nContract JSON ABI\n[{"constant":false,"inputs":[{"name":"recipients","type":"address[]"},{"name":"amounts","type":"uint256[]"},{"name":"payload","type":"string"}],"name":"sendCoin","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},\n...\n')])])]),e("h2",{attrs:{id:"deploy-smart-contract-from-sol-file"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deploy-smart-contract-from-sol-file"}},[t._v("#")]),t._v(" Deploy smart contract from sol file")]),t._v(" "),e("p",[e("code",[t._v("Usage: ioctl contract deploy sol CONTRACT_NAME [CODE_FILES...] [--with-arguments INIT_INPUT]")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('➜  ioctl contract deploy sol Multisend --with-arguments \'{"_minTips":1,"_limit":20}\' -s yqr\nOutput:\n...\nAction has been sent to blockchain.\nWait for several seconds and query this action by hash:iotexscan.io/action/xxx...\n')])])]),e("h2",{attrs:{id:"deploy-smart-contract-from-bytecode"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deploy-smart-contract-from-bytecode"}},[t._v("#")]),t._v(" Deploy smart contract from bytecode")]),t._v(" "),e("p",[e("code",[t._v("Usage: ioctl contract deploy bytecode BYTECODE [ABI_PATH INIT_INPUT]")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("➜  ioctl contract deploy bytecode 0x1bfc56c6... -s yqr\nOutput:\n...\nversion: 1  nonce: 144  gasLimit: 745466  gasPrice: 0.000001 IOTX\nsenderAddress: io1cl6rl2ev5dfa988qmgzg2x4hfazmp9vn2g66ng (yqr)\nexecution: <\n  contract:\n  data: 608060405234801561001057600080fd5b5060405160408061096483398101604052805160209091015160008054600160a060020a03191633179055600191909155600255610911806100536000396000f300608060405260043610\n...\n>\nsenderPubKey: 046d89e514d67b702d0a4bf15bfa32f2ffac43ab56f9c9a3a0020b3cd02c426267dd8a5a03bca5c2fe2487fd0e1539b8d25053ba1fc9db83684ea7a33b70f936f7\nsignature: f436c1ffadd63bf67308d8416529aac04deeb0761022aa5d75a60869e91dc5ab4dd64576d82ffe1a40e569450c6463accbbe2b9cf9251b0577419f6a6995e48800\n\nPlease confirm your action.\n\n\nOptions: yes\nQuit for anything else.\nyes\nAction has been sent to blockchain.\nWait for several seconds and query this action by hash:iotexscan.io/action/xxx...\n")])])]),e("h2",{attrs:{id:"deploy-smart-contract-from-bin-file"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deploy-smart-contract-from-bin-file"}},[t._v("#")]),t._v(" Deploy smart contract from bin file")]),t._v(" "),e("p",[e("code",[t._v("Usage: ioctl contract deploy bin BIN_PATH [ABI_PATH INIT_INPUT]")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('➜  ioctl contract deploy bin a.bin a.abi \'{"_minTips":1,"_limit":20}\' -s yqr\nOutput:\n...\nversion: 1  nonce: 143  gasLimit: 781866  gasPrice: 0.000001 IOTX\nsenderAddress: io1cl6rl2ev5dfa988qmgzg2x4hfazmp9vn2g66ng (yqr)\nexecution: <\n  contract:\n  data: 608060405234801561001057600080fd5b5060405160408061096483398101604052805160209091015160008054600160a060020a03191633179055600191909155600255610911806100536000396000f300608060405260043610\n...\n>\nsenderPubKey: 046d89e514d67b702d0a4bf15bfa32f2ffac43ab56f9c9a3a0020b3cd02c426267dd8a5a03bca5c2fe2487fd0e1539b8d25053ba1fc9db83684ea7a33b70f936f7\nsignature: 310b186c59563eb1e261465b9e28a325149267e10afed988e697272f5411defc7c1cc419f01c6fbb45e4fbb2f50bcdbfb63fec7bd5e1a0f9ec43d6fcc286462a01\n\nPlease confirm your action.\n\n\nOptions: yes\nQuit for anything else.\nyes\nAction has been sent to blockchain.\nWait for several seconds and query this action by hash:iotexscan.io/action/xxx...\n')])])]),e("h2",{attrs:{id:"invoke-smart-contract-by-function"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#invoke-smart-contract-by-function"}},[t._v("#")]),t._v(" Invoke smart contract by function")]),t._v(" "),e("p",[e("code",[t._v("Usage: ioctl contract invoke function (CONTRACT_ADDRESS|ALIAS) ABI_PATH FUNCTION_NAME [AMOUNT_IOTX] [--with-arguments INVOKE_INPUT]")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('→  ioctl contract invoke function io1h8z... a.abi sendCoin 2 --with-arguments {"recipients":["io1h8zxmdacge966wp6t90a02ncghaa6eptnftfqr","io14fmlh7zedcx7tn3k9k744v54nxnv8zky86tjhj"],"amounts":["312","123"],"payload":"PLEASE!!!"}\nOutput:\nversion: 1  nonce: 146  gasLimit: 45600  gasPrice: 0.000001 IOTX\nsenderAddress: io1cl6rl2ev5dfa988qmgzg2x4hfazmp9vn2g66ng (yqr)\nexecution: <\n  contract: io1h8zxmdacge966wp6t90a02ncghaa6eptnftfqr (m)\n  amount: 2 IOTX\n  data: 02c4bc47000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000\n...\n')])])]),e("h2",{attrs:{id:"invoke-smart-contract-by-bytecode"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#invoke-smart-contract-by-bytecode"}},[t._v("#")]),t._v(" Invoke smart contract by bytecode")]),t._v(" "),e("p",[e("code",[t._v("Usage: ioctl contract invoke bytecode (CONTRACT_ADDRESS|ALIAS) PACKED_ARGUMENTS [AMOUNT_IOTX]")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("→  ioctl contract deploy bytecode 0x1bfc56c6... -s yqr\nOutput:\nversion: 1  nonce: 147  gasLimit: 45600  gasPrice: 0.000001 IOTX\nsenderAddress: io1cl6rl2ev5dfa988qmgzg2x4hfazmp9vn2g66ng (yqr)\nexecution: <\n  contract: io1h8zxmdacge966wp6t90a02ncghaa6eptnftfqr (m)\n  amount: 2 IOTX\n  data: 02c4bc47000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000\n...\n")])])]),e("h2",{attrs:{id:"test-smart-contract-by-bytecode"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#test-smart-contract-by-bytecode"}},[t._v("#")]),t._v(" Test smart contract by bytecode")]),t._v(" "),e("p",[e("code",[t._v("Usage: ioctl contract test bytecode (CONTRACT_ADDRESS|ALIAS) PACKED_ARGUMENTS [AMOUNT_IOTX]")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("→  ioctl contract test bytecode io18qq... a4d66daf\nOutput:\nreturn 0000000000000000000000000000000000000000000000000000000000000000\n")])])]),e("h2",{attrs:{id:"test-smart-contract-by-function"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#test-smart-contract-by-function"}},[t._v("#")]),t._v(" Test smart contract by function")]),t._v(" "),e("p",[e("code",[t._v("Usage: ioctl contract test function (CONTRACT_ADDRESS|ALIAS) ABI_PATH FUNCTION_NAME [AMOUNT_IOTX] [--with-arguments INVOKE_INPUT]")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("→  ioctl contract test function io18qq... a.abi owner\nOutput:\nreturn 000000000000000000000000c7f43fab2ca353d29ce0da04851ab74f45b09593\n")])])]),e("h2",{attrs:{id:"share-local-files-with-iotex-ide"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#share-local-files-with-iotex-ide"}},[t._v("#")]),t._v(" Share local files with IoTeX IDE")]),t._v(" "),e("p",[e("code",[t._v("Usage: ioctl contract share LOCAL_FOLDER_PATH [--iotex-ide YOUR_IOTEX_IDE_URL_INSTANCE]")])]),t._v(" "),e("p",[t._v("LOCAL_FOLDER_PATH can be absolute or relatively. --iotex-ide flag defaults to https://ide.iotex.io.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("→  ioctl contract share ioctl \nOutput:\n2020/08/22 16:45:00 Listening on 127.0.0.1:65520, Please open your IDE ( https://ide.iotex.io ) to connect to local files\n2020/08/22 16:45:05 share :ioctl/client.go\n2020/08/22 16:45:05 share :ioctl/cmd/account/account.go\n2020/08/22 16:45:05 share :ioctl/cmd/account/account_test.go\n2020/08/22 16:45:05 share :ioctl/cmd/account/accountbalance.go\n...\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);