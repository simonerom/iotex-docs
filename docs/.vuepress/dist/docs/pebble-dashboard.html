<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>
      1. Introduction to the process of writing S3 data | IoTeX Documentaion
    </title>
    <meta name="generator" content="VuePress 1.5.2" />
    <link rel="icon" href="/logo.png" />
    <link rel="manifest" href="/manifest.json" />
    <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png" />
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#3eaf7c" />
    <meta
      name="description"
      content="Developer docs, by the community, for the community"
    />
    <meta name="theme-color" content="#3eaf7c" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta
      name="msapplication-TileImage"
      content="/icons/msapplication-icon-144x144.png"
    />
    <meta name="msapplication-TileColor" content="#000000" />
    <link rel="preload" href="/assets/css/0.styles.d1d07cb2.css" as="style" />
    <link rel="preload" href="/assets/js/app.7d5bfce5.js" as="script" />
    <link rel="preload" href="/assets/js/2.8d860b64.js" as="script" />
    <link rel="preload" href="/assets/js/15.2bc59e9b.js" as="script" />
    <link rel="prefetch" href="/assets/js/10.dba37ceb.js" />
    <link rel="prefetch" href="/assets/js/11.8d038730.js" />
    <link rel="prefetch" href="/assets/js/12.e53fa70e.js" />
    <link rel="prefetch" href="/assets/js/13.5493ea6d.js" />
    <link rel="prefetch" href="/assets/js/14.46dfc681.js" />
    <link rel="prefetch" href="/assets/js/16.a93410b0.js" />
    <link rel="prefetch" href="/assets/js/17.320aa745.js" />
    <link rel="prefetch" href="/assets/js/18.af375d96.js" />
    <link rel="prefetch" href="/assets/js/19.09461327.js" />
    <link rel="prefetch" href="/assets/js/20.937df548.js" />
    <link rel="prefetch" href="/assets/js/3.8dc2298b.js" />
    <link rel="prefetch" href="/assets/js/4.e1f06043.js" />
    <link rel="prefetch" href="/assets/js/5.0b79be6f.js" />
    <link rel="prefetch" href="/assets/js/6.d0a7dabe.js" />
    <link rel="prefetch" href="/assets/js/7.5e9d9dfc.js" />
    <link rel="prefetch" href="/assets/js/8.fa264ff0.js" />
    <link rel="prefetch" href="/assets/js/9.cf1691e4.js" />
    <link rel="stylesheet" href="/assets/css/0.styles.d1d07cb2.css" />
  </head>
  <body>
    <div id="app" data-server-rendered="true">
      <div class="theme-container">
        <header class="navbar">
          <div class="sidebar-button">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              aria-hidden="true"
              role="img"
              viewBox="0 0 448 512"
              class="icon"
            >
              <path
                fill="currentColor"
                d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"
              ></path>
            </svg>
          </div>
          <a href="/" class="home-link router-link-active"
            ><img src="/logo.svg" alt="IoTeX Documentaion" class="logo" />
            <span class="site-name can-hide">IoTeX Documentaion</span></a
          >
          <div class="links">
            <div class="search-box">
              <input
                aria-label="Search"
                autocomplete="off"
                spellcheck="false"
                value=""
              />
              <!---->
            </div>
            <nav class="nav-links can-hide">
              <div class="nav-item">
                <a href="/" class="nav-link">
                  Home
                </a>
              </div>
              <div class="nav-item">
                <a href="/middleware/did.html" class="nav-link">
                  Middleware
                </a>
              </div>
              <div class="nav-item">
                <a href="/hardware/pebble.html" class="nav-link">
                  Hardware
                </a>
              </div>
              <div class="nav-item">
                <a href="/pylon/get-started.html" class="nav-link">
                  Pylon
                </a>
              </div>
              <a
                href="https://github.com/iotexproject/iotex-docs"
                target="_blank"
                rel="noopener noreferrer"
                class="repo-link"
              >
                GitHub
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  aria-hidden="true"
                  x="0px"
                  y="0px"
                  viewBox="0 0 100 100"
                  width="15"
                  height="15"
                  class="icon outbound"
                >
                  <path
                    fill="currentColor"
                    d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"
                  ></path>
                  <polygon
                    fill="currentColor"
                    points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"
                  ></polygon></svg
              ></a>
            </nav>
          </div>
        </header>
        <div class="sidebar-mask"></div>
        <aside class="sidebar">
          <nav class="nav-links">
            <div class="nav-item">
              <a href="/" class="nav-link">
                Home
              </a>
            </div>
            <div class="nav-item">
              <a href="/middleware/did.html" class="nav-link">
                Middleware
              </a>
            </div>
            <div class="nav-item">
              <a href="/hardware/pebble.html" class="nav-link">
                Hardware
              </a>
            </div>
            <div class="nav-item">
              <a href="/pylon/get-started.html" class="nav-link">
                Pylon
              </a>
            </div>
            <a
              href="https://github.com/iotexproject/iotex-docs"
              target="_blank"
              rel="noopener noreferrer"
              class="repo-link"
            >
              GitHub
              <svg
                xmlns="http://www.w3.org/2000/svg"
                aria-hidden="true"
                x="0px"
                y="0px"
                viewBox="0 0 100 100"
                width="15"
                height="15"
                class="icon outbound"
              >
                <path
                  fill="currentColor"
                  d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"
                ></path>
                <polygon
                  fill="currentColor"
                  points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"
                ></polygon></svg
            ></a>
          </nav>
          <ul class="sidebar-links">
            <li>
              <section class="sidebar-group depth-0">
                <p class="sidebar-heading open">
                  <span></span>
                  <!---->
                </p>
                <ul class="sidebar-links sidebar-group-items">
                  <li>
                    <a href="/" aria-current="page" class="sidebar-link"
                      >Home</a
                    >
                  </li>
                  <li>
                    <a href="/docs/get-started.html" class="sidebar-link"
                      >Get Started</a
                    >
                    <ul class="sidebar-sub-headers">
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/get-started.html#introduction"
                          class="sidebar-link"
                          >üéá Introduction</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/get-started.html#build-and-run"
                          class="sidebar-link"
                          >üèÉ Build and Run</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/get-started.html#contribute"
                          class="sidebar-link"
                          >üìí Contribute</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/get-started.html#iotex-ecosystem"
                          class="sidebar-link"
                          >üåê IoTeX Ecosystem</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/get-started.html#chat-with-us"
                          class="sidebar-link"
                          >üë© Chat With Us</a
                        >
                      </li>
                    </ul>
                  </li>
                  <li>
                    <a
                      href="/docs/libraries-and-tools.html"
                      class="sidebar-link"
                      >SDK and Libraries</a
                    >
                    <ul class="sidebar-sub-headers">
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/libraries-and-tools.html#overview"
                          class="sidebar-link"
                          >Overview</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/libraries-and-tools.html#account"
                          class="sidebar-link"
                          >Account</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/libraries-and-tools.html#decentralized-identity-did"
                          class="sidebar-link"
                          >Decentralized Identity (DID)</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/libraries-and-tools.html#transfer"
                          class="sidebar-link"
                          >Transfer</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/libraries-and-tools.html#smart-contract"
                          class="sidebar-link"
                          >Smart Contract</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/libraries-and-tools.html#rpc-methods"
                          class="sidebar-link"
                          >RPC Methods</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/libraries-and-tools.html#xrc20-tokens"
                          class="sidebar-link"
                          >XRC20 Tokens</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/libraries-and-tools.html#connect-with-iopay-desktop"
                          class="sidebar-link"
                          >Connect with ioPay Desktop</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/libraries-and-tools.html#login-with-iopay-desktop"
                          class="sidebar-link"
                          >Login with ioPay Desktop</a
                        >
                      </li>
                    </ul>
                  </li>
                  <li>
                    <a href="/docs/ioctl.html" class="sidebar-link"
                      >Command-line Interface</a
                    >
                    <ul class="sidebar-sub-headers">
                      <li class="sidebar-sub-header">
                        <a href="/docs/ioctl.html#overview" class="sidebar-link"
                          >Overview</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a href="/docs/ioctl.html#account" class="sidebar-link"
                          >Account</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a href="/docs/ioctl.html#action" class="sidebar-link"
                          >Action</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a href="/docs/ioctl.html#alias" class="sidebar-link"
                          >Alias</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/ioctl.html#blockchain"
                          class="sidebar-link"
                          >Blockchain</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a href="/docs/ioctl.html#config" class="sidebar-link"
                          >Config</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a href="/docs/ioctl.html#node" class="sidebar-link"
                          >Node</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/ioctl.html#smart-contract"
                          class="sidebar-link"
                          >Smart Contract</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/ioctl.html#stake-vote"
                          class="sidebar-link"
                          >Stake/Vote</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/ioctl.html#version-update"
                          class="sidebar-link"
                          >Version/Update</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/ioctl.html#xrc20-tokens"
                          class="sidebar-link"
                          >XRC20 Tokens</a
                        >
                      </li>
                    </ul>
                  </li>
                  <li>
                    <a href="/docs/api.html" class="sidebar-link">Core API</a>
                    <ul class="sidebar-sub-headers">
                      <li class="sidebar-sub-header">
                        <a href="/docs/api.html#overview" class="sidebar-link"
                          >Overview</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a href="/docs/api.html#getaccount" class="sidebar-link"
                          >GetAccount</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/api.html#getactionsbyindex"
                          class="sidebar-link"
                          >GetActionsByIndex</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/api.html#getactionbyhash"
                          class="sidebar-link"
                          >GetActionByHash</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/api.html#getactionsbyaddress"
                          class="sidebar-link"
                          >GetActionsByAddress</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/api.html#getunconfirmedactionsbyaddress"
                          class="sidebar-link"
                          >GetUnconfirmedActionsByAddress</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/api.html#getactionsbyblock"
                          class="sidebar-link"
                          >GetActionsByBlock</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/api.html#getblockmetasbyindex"
                          class="sidebar-link"
                          >GetBlockMetasByIndex</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/api.html#getblockmetasbyhash"
                          class="sidebar-link"
                          >GetBlockMetasByHash</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/api.html#getchainmeta"
                          class="sidebar-link"
                          >GetChainMeta</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/api.html#getservermeta"
                          class="sidebar-link"
                          >GetServerMeta</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a href="/docs/api.html#sendaction" class="sidebar-link"
                          >SendAction</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/api.html#getreceiptbyaction"
                          class="sidebar-link"
                          >GetReceiptByAction</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/api.html#readcontract"
                          class="sidebar-link"
                          >ReadContract</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a href="/docs/api.html#readstate" class="sidebar-link"
                          >ReadState</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/api.html#suggestgasprice"
                          class="sidebar-link"
                          >SuggestGasPrice</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/api.html#estimategasforaction"
                          class="sidebar-link"
                          >EstimateGasForAction</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/api.html#getepochmeta"
                          class="sidebar-link"
                          >GetEpochMeta</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/api.html#getrawblocks"
                          class="sidebar-link"
                          >GetRawBlocks</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/api.html#streamblocks"
                          class="sidebar-link"
                          >StreamBlocks</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a href="/docs/api.html#streamlogs" class="sidebar-link"
                          >StreamLogs</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/api.html#estimateactiongasconsumptionbytransfer"
                          class="sidebar-link"
                          >EstimateActionGasConsumptionByTransfer</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/api.html#estimateactiongasconsumptionbyexecution"
                          class="sidebar-link"
                          >EstimateActionGasConsumptionByExecution</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/api.html#getlogsbyblock"
                          class="sidebar-link"
                          >GetLogsByBlock</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/api.html#getlogsbyrange"
                          class="sidebar-link"
                          >GetLogsByRange</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/api.html#getevmtransfersbyactionhash"
                          class="sidebar-link"
                          >GetEvmTransfersByActionHash</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/api.html#getevmtransfersbyblockheight"
                          class="sidebar-link"
                          >GetEvmTransfersByBlockHeight</a
                        >
                      </li>
                    </ul>
                  </li>
                  <li>
                    <a href="/docs/analytics.html" class="sidebar-link"
                      >Analytics</a
                    >
                    <ul class="sidebar-sub-headers">
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/analytics.html#overview"
                          class="sidebar-link"
                          >Overview</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/analytics.html#delegate"
                          class="sidebar-link"
                          >Delegate</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/analytics.html#chain"
                          class="sidebar-link"
                          >Chain</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/analytics.html#voting"
                          class="sidebar-link"
                          >Voting</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/analytics.html#account"
                          class="sidebar-link"
                          >Account</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/analytics.html#action"
                          class="sidebar-link"
                          >Action</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/analytics.html#xrc20-tokens"
                          class="sidebar-link"
                          >XRC20 Tokens</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/analytics.html#xrc721-tokens"
                          class="sidebar-link"
                          >XRC721 Tokens</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/analytics.html#topholders"
                          class="sidebar-link"
                          >TopHolders</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/analytics.html#hermes"
                          class="sidebar-link"
                          >Hermes</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/analytics.html#hermes2"
                          class="sidebar-link"
                          >Hermes2</a
                        >
                      </li>
                    </ul>
                  </li>
                  <li>
                    <a href="/docs/misc.html" class="sidebar-link">Misc</a>
                    <ul class="sidebar-sub-headers">
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/misc.html#action-injector"
                          class="sidebar-link"
                          >Action Injector</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/docs/misc.html#bookkeeping"
                          class="sidebar-link"
                          >Bookkeeping</a
                        >
                      </li>
                    </ul>
                  </li>
                </ul>
              </section>
            </li>
          </ul>
        </aside>
        <main class="page">
          <div class="theme-default-content content__default">
            <h1 id="_1-introduction-to-the-process-of-writing-s3-data">
              <a
                href="#_1-introduction-to-the-process-of-writing-s3-data"
                class="header-anchor"
                >#</a
              >
              1. Introduction to the process of writing S3 data
            </h1>
            <ul>
              <li>
                Trackers collect data and places it in the corresponding topic
                of IOT-Core, such as <code>nrf-352656100458374</code>.
              </li>
              <li>
                IOT-Core listens for the corresponding topic and adds the
                post-processing command: write to S3. Pay attention to the
                setting of role permissions. Make sure that the specified S3
                bucket has writable permissions.
              </li>
              <li>
                IOT-Core has Web-UI to mock data into topic, which can be
                manually filled with several records for verification.
              </li>
            </ul>
            <p>
              The file format of S3 is determined in the IOT-Core [Action]
              configuration. The content of the file is the active data of
              tracker. Such as:
            </p>
            <ul>
              <li>GPS position information.</li>
              <li>Temperature, Pessure and Humidity.</li>
              <li>
                Gyroscope: AX AY AZ acceleration, GX GY GZ gravity acceleration.
              </li>
              <li>Voltage data: VBAT.</li>
            </ul>
            <h1
              id="_2-the-process-of-converting-tracker-data-to-grafana-dashboard"
            >
              <a
                href="#_2-the-process-of-converting-tracker-data-to-grafana-dashboard"
                class="header-anchor"
                >#</a
              >
              2. The process of converting tracker data to grafana dashboard
            </h1>
            <h3 id="_2-1-create-a-kinesis-data-stream">
              <a href="#_2-1-create-a-kinesis-data-stream" class="header-anchor"
                >#</a
              >
              2.1 Create a kinesis data stream
            </h3>
            <p>
              Kinesis data stream is used to hook up lambda data processing
              functions. Enter the kinesis console and create a kinesis data
              stream. The number of slices is set to 1 and the name is
              <code>test-stream</code>.
            </p>
            <h3 id="_2-2-create-iam-role">
              <a href="#_2-2-create-iam-role" class="header-anchor">#</a> 2.2
              Create IAM role
            </h3>
            <ul>
              <li>
                Create Role: <code>test-stream</code>, permission:
                <code>AmazonKinesisFullAccess</code>
              </li>
              <li>
                Create Role: <code>lambda_role</code>, permission:
                <code>AWSLambdaKinesisExecutionRole</code>
              </li>
            </ul>
            <h3 id="_2-3-iot-core-kinesis-data-stream">
              <a href="#_2-3-iot-core-kinesis-data-stream" class="header-anchor"
                >#</a
              >
              2.3 IOT-Core -&gt; Kinesis data stream
            </h3>
            <ul>
              <li>
                Enter the IOT core console and click <code>Action</code> in the
                left sidebar
              </li>
              <li>
                Create a rule with the following parameters:
                <ul>
                  <li>The name is <code>test_stream</code></li>
                  <li>
                    SQL like:
                    <code>select * from 'topic / nrf-352656100458374'</code>
                  </li>
                  <li>
                    Add operation: send the message to Amazon kinesis stream,
                    and select role as <code>test-stream</code>.
                  </li>
                </ul>
              </li>
            </ul>
            <h3 id="_2-4-create-lambda-function">
              <a href="#_2-4-create-lambda-function" class="header-anchor">#</a>
              2.4 Create Lambda Function
            </h3>
            <ul>
              <li>
                Create a lambda function:
                <ul>
                  <li>Name: testInfluxdb</li>
                  <li>Runtime: Python 2.7</li>
                  <li>Role: <code>lambda_role</code></li>
                </ul>
              </li>
              <li>
                Click this function:
                <ul>
                  <li>
                    Add Trigger: Kinesis data stream, choose
                    <code>test-stream</code>.
                  </li>
                  <li>Edit python scripts</li>
                  <li>Save</li>
                </ul>
              </li>
            </ul>
            <p>Example:</p>
            <div class="language- extra-class">
              <pre class="language-text"><code>import urllib2
import base64
import json
import time

g_influx_addr = &quot;http://54.225.17.236:8086/write?db=pebble&quot;
def write_point(info):
    #print str(info)
    dbreq = urllib2.Request(g_influx_addr, data = info)
    urllib2.urlopen(dbreq)

def lambda_handler(event, context):
    req_data = &quot;&quot;
    for record in event['Records']:
        payload = base64.b64decode(record['kinesis']['data'])
        print &quot;Decoded payload: &quot; + payload
        data = json.loads(payload)
        # temperature
        if 'T(degC)' in data:
            T = data['T(degC)']
            temp = &quot;temperature,name=temperature C=&quot; + str(T)
            #temp += &quot; &quot; + str(data['timestamp'] * 1000000)
            temp += &quot; &quot; + str(int(time.time()) * 1000000000)
            #print &quot;req_str: &quot; + str(temp)
            req_data += &quot;\n&quot;
            req_data += temp
        else:
            print(&quot;not found T&quot;)
        # pressure
        if 'P(hPa)' in data:
            P = data['P(hPa)']
            temp = &quot;pressure,name=pressure P=&quot; + str(P)
            #temp += &quot; &quot; + str(data['timestamp'] * 1000000)
            temp += &quot; &quot; + str(int(time.time()) * 1000000000)
            #print &quot;req_str: &quot; + str(temp)
            req_data += &quot;\n&quot;
            req_data += temp
        else:
            print(&quot;not found P&quot;)
        # location
        if &quot;latitude&quot; in data and &quot;longitude&quot; in data:
            latitude = data[&quot;latitude&quot;]
            longitude = data[&quot;longitude&quot;]
            temp = &quot;location,name=location latitude=&quot; + str(latitude)
            temp += &quot;,longitude=&quot; + str(longitude)
            #temp += &quot; &quot; + str(data['timestamp'] * 1000000)
            temp += &quot; &quot; + str(int(time.time()) * 1000000000)
            req_data += &quot;\n&quot;
            req_data += temp
        else:
            print &quot;not found longitude latitude&quot;
    if req_data == &quot;&quot;:
        return
    print &quot;req_data: &quot; + str(req_data)
    write_point(req_data)
</code></pre>
            </div>
            <h3 id="_2-5-grafana-dashboard">
              <a href="#_2-5-grafana-dashboard" class="header-anchor">#</a> 2.5
              Grafana Dashboard
            </h3>
            <p>http://docs.grafana.org/</p>
          </div>
          <footer class="page-edit">
            <div class="edit-link">
              <a
                href="https://github.com/iotexproject/iotex-docs/edit/master/docs/pebble-dashboard.md"
                target="_blank"
                rel="noopener noreferrer"
                >Edit this page on GitHub</a
              >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                aria-hidden="true"
                x="0px"
                y="0px"
                viewBox="0 0 100 100"
                width="15"
                height="15"
                class="icon outbound"
              >
                <path
                  fill="currentColor"
                  d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"
                ></path>
                <polygon
                  fill="currentColor"
                  points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"
                ></polygon>
              </svg>
            </div>
            <div class="last-updated">
              <span class="prefix">Last Updated:</span>
              <span class="time">2/25/2020, 1:58:20 AM</span>
            </div>
          </footer>
          <!---->
        </main>
      </div>
      <div class="global-ui"></div>
    </div>
    <script src="/assets/js/app.7d5bfce5.js" defer></script
    ><script src="/assets/js/2.8d860b64.js" defer></script
    ><script src="/assets/js/15.2bc59e9b.js" defer></script>
  </body>
</html>
